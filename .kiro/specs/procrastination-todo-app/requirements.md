# 要件文書

## 概要

「明日から本気出す」にインスパイアされた簡易的なTODOアプリをKotlinで開発します。このアプリは、ユーザーがタスクを「今日」「明日」「いつか」のカテゴリに分けて管理できる機能を提供し、先延ばしの心理を受け入れながらタスク管理を行えるようにします。

## 要件

### 要件 1

**ユーザーストーリー:** ユーザーとして、新しいタスクを追加したいので、やるべきことを記録できるようにしたい

#### 受け入れ基準

1. WHEN ユーザーがタスク追加ボタンをタップ THEN システムはタスク入力画面を表示する
2. WHEN ユーザーがタスク内容を入力して保存ボタンをタップ THEN システムはタスクをデフォルトで「いつか」カテゴリに保存する
3. WHEN ユーザーがタスク追加時に優先度を選択 THEN システムは選択された優先度（高・中・低）でタスクを保存する
4. IF タスク内容が空の場合 THEN システムはエラーメッセージを表示して保存を拒否する

### 要件 2

**ユーザーストーリー:** ユーザーとして、今日やるタスクを表示したいので、今日集中すべきことを確認できるようにしたい

#### 受け入れ基準

1. WHEN ユーザーが「今日」タブを選択 THEN システムは今日カテゴリのタスク一覧を表示する
2. WHEN 今日カテゴリにタスクが存在しない場合 THEN システムは「今日のタスクはありません」メッセージを表示する
3. WHEN ユーザーがタスクをタップ THEN システムはタスクの詳細情報を表示する
4. WHEN ユーザーがタスクを完了としてマーク THEN システムはタスクを完了状態に更新し、一覧から非表示にする

### 要件 3

**ユーザーストーリー:** ユーザーとして、明日やるタスクを表示したいので、明日の予定を把握できるようにしたい

#### 受け入れ基準

1. WHEN ユーザーが「明日」タブを選択 THEN システムは明日カテゴリのタスク一覧を表示する
2. WHEN 明日カテゴリにタスクが存在しない場合 THEN システムは「明日のタスクはありません」メッセージを表示する
3. WHEN ユーザーがタスクを長押し THEN システムはタスクを他のカテゴリに移動するオプションを表示する
4. WHEN ユーザーがタスクを「今日」に移動 THEN システムはタスクを今日カテゴリに移動する

### 要件 4

**ユーザーストーリー:** ユーザーとして、いつかやるタスクを表示したいので、将来やりたいことを管理できるようにしたい

#### 受け入れ基準

1. WHEN ユーザーが「いつか」タブを選択 THEN システムはいつかカテゴリのタスク一覧を表示する
2. WHEN いつかカテゴリにタスクが存在しない場合 THEN システムは「いつかやるタスクはありません」メッセージを表示する
3. WHEN ユーザーがタスクをスワイプ THEN システムはタスクを「明日」または「今日」に移動するオプションを表示する
4. WHEN ユーザーがタスクを削除 THEN システムは確認ダイアログを表示してからタスクを削除する

### 要件 5

**ユーザーストーリー:** ユーザーとして、既存のタスクを編集したいので、内容や優先度を変更できるようにしたい

#### 受け入れ基準

1. WHEN ユーザーがタスクの編集ボタンをタップ THEN システムはタスク編集画面を表示する
2. WHEN ユーザーがタスク内容を変更して保存 THEN システムは変更されたタスク内容を保存する
3. WHEN ユーザーが優先度を変更 THEN システムは新しい優先度でタスクを更新する
4. WHEN ユーザーがタスクのカテゴリを変更 THEN システムはタスクを指定されたカテゴリに移動する
5. IF 編集中にタスク内容が空になった場合 THEN システムはエラーメッセージを表示して保存を拒否する

### 要件 6

**ユーザーストーリー:** ユーザーとして、タスクの優先度を視覚的に確認したいので、優先度に応じた表示ができるようにしたい

#### 受け入れ基準

1. WHEN タスクが高優先度の場合 THEN システムは赤色のインジケーターを表示する
2. WHEN タスクが中優先度の場合 THEN システムは黄色のインジケーターを表示する
3. WHEN タスクが低優先度の場合 THEN システムは緑色のインジケーターを表示する
4. WHEN タスク一覧を表示 THEN システムは優先度順（高→中→低）でタスクをソートして表示する

### 要件 7

**ユーザーストーリー:** ユーザーとして、アプリのデータを永続化したいので、アプリを再起動してもタスクが保持されるようにしたい

#### 受け入れ基準

1. WHEN ユーザーがタスクを作成または編集 THEN システムはデータをローカルデータベースに保存する
2. WHEN アプリを再起動 THEN システムは保存されたタスクデータを読み込んで表示する
3. WHEN データベースエラーが発生 THEN システムはエラーメッセージを表示してユーザーに通知する
4. WHEN アプリの初回起動時 THEN システムはデータベースを初期化する